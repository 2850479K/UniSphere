{% extends 'base.html' %}

{% block title %}{{ profile_user.username }}'s Portfolio - UniSphere{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>{{ profile_user.username }}'s Portfolio</h1>


    {% if user == profile_user %}
        <a href="{% url 'create_post' %}" class="btn btn-success">Add New Project</a>
    {% endif %}

    {% for post in posts %}
        <div class="card mb-3 p-3 shadow-sm">
            <h3>
                <a href="{% url 'view_post' post.id %}" class="text-primary">{{ post.title }}</a>
            </h3>
            <p>{{ post.caption }}</p>
            <p>Posted on: {{ post.timestamp }}</p>


            {% if user == profile_user %}
                <a href="{% url 'edit_post' post.id %}" class="btn btn-warning">Edit</a>
                <a href="{% url 'delete_post' post.id %}" class="btn btn-danger" onclick="return confirm('Are you sure?');">Delete</a>
            {% endif %}
        </div>
    {% empty %}
        <p>No projects available.</p>
    {% endfor %}
</div>
{% endblock %}
